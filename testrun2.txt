make[1]: Entering directory `/var/home/root/translucency'
sync
insmod -f translucency.o from=/tmp/fromdir/ to=/tmp/todir/
ls -RF /tmp/todir/
/tmp/todir/:
have_testfiles
link2@
link4@
link5@
link6@
sub2/
sub3/
test

/tmp/todir/sub2:
dynamic
test

/tmp/todir/sub3:
test
ls -RF /tmp/fromdir/
/tmp/fromdir/:
have_testfiles
link@
link2@
link2@
link3@
link4@
link5@
link6@
link7@
link8@
static
sub/
sub2/
sub2/
sub3/
test

/tmp/fromdir/sub:
static
test

/tmp/fromdir/sub2:
dynamic
exectest*
static
test
test

/tmp/fromdir/sub2:
dynamic
exectest*
static
test
test

/tmp/fromdir/sub3:
test
ls -F /tmp/fromdir//link5/
static
test
ls -F /tmp/fromdir//link6/
exectest*
static
test
test
ls -F /tmp/fromdir//link8/
test
sleep 1
cat /tmp/fromdir//test
this is file "test"
cat /tmp/fromdir//static
this is file "static"
cat /tmp/fromdir//sub/test
this is static file "sub/test"
cat /tmp/fromdir//sub2/test
this is overlayed file "sub2/test"
cat /tmp/fromdir//sub3/test
this is file "sub3/test"
cat /tmp/fromdir//sub2/static
this is file "sub2/static"
cat /tmp/fromdir//link
this is file "static"
cat /tmp/fromdir//link2
this is file "/tmp/linktest"
cat /tmp/fromdir//link3
this is file "sub3/test"
cat /tmp/fromdir//link4
this is file "sub/static"
cat /tmp/fromdir//link5/test
this is static file "sub/test"
cat /tmp/fromdir//link6/test
this is static file "sub2/test"
cat /tmp/fromdir//link7/test
cat /tmp/fromdir//link8/test
this is file "sub3/test"
cat /tmp/fromdir//sub/../sub3/test
this is file "sub3/test"
cat /tmp/fromdir//sub3/../sub/test
/tmp/fromdir//sub2/exectest
static
echo echo appended >>/tmp/fromdir//sub2/exectest
/tmp/fromdir//sub2/exectest
static
appended
rm /tmp/fromdir//sub2/exectest
echo -e \#\!/bin/sh\\necho overridden > /tmp/fromdir//sub2/exectest
/tmp/fromdir//sub2/exectest
overridden
rm /tmp/fromdir//sub2/exectest
/tmp/fromdir//sub2/exectest
static
echo 2 > /proc/sys/translucency/flags
echo echo appended >>/tmp/fromdir//sub2/exectest
/tmp/fromdir//sub2/exectest
appended
echo 8 > /proc/sys/translucency/flags
ls -RF /tmp/fromdir/
/tmp/fromdir/:
link@
link2@
link3@
link7@
link8@
static
sub/
sub2/

/tmp/fromdir/sub:
static
test

/tmp/fromdir/sub2:
exectest
static
test
echo 4 > /proc/sys/translucency/flags
ls -RF /tmp/fromdir/
/tmp/fromdir/:
link@
link2@
link3@
link7@
link8@
static
sub/
sub2/

/tmp/fromdir/sub:
static
test

/tmp/fromdir/sub2:
exectest*
static
test
ls -RF /tmp/todir/
/tmp/todir/:
have_testfiles
link2@
link4@
link5@
link6@
sub2/
sub3/
test

/tmp/todir/sub2:
dynamic
exectest
test

/tmp/todir/sub3:
test
cat /tmp/fromdir//sub2/test
this is static file "sub2/test"
/tmp/fromdir//sub2/exectest
static
echo 0 > /proc/sys/translucency/flags
/tmp/fromdir//sub2/exectest
appended
rm /tmp/fromdir//sub2/exectest
rmmod translucency
make[1]: Leaving directory `/var/home/root/translucency'
